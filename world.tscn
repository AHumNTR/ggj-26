[gd_scene format=3 uid="uid://wu6tt5cs0byc"]

[ext_resource type="Texture2D" uid="uid://fps7hls4i7yk" path="res://Textures/GroundTexture.png" id="1_aqk2v"]
[ext_resource type="PackedScene" uid="uid://bmqfdbicayqrx" path="res://player.tscn" id="1_f3sb7"]
[ext_resource type="Script" uid="uid://caxlnol7dvrkd" path="res://globalui.gd" id="4_036b0"]
[ext_resource type="PackedScene" uid="uid://dghfmmaacw68i" path="res://enemy_spawner.tscn" id="4_aqk2v"]
[ext_resource type="Texture2D" uid="uid://d2sl1j5mex4x3" path="res://Textures/YellowGhostAnim.png" id="5_036b0"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_tlwt5"]
sky_top_color = Color(1, 0.31377584, 0.2803165, 1)
sky_horizon_color = Color(1, 0.3137255, 0.2784314, 1)
ground_bottom_color = Color(1, 0.3137255, 0.2784314, 1)
ground_horizon_color = Color(1, 0.3137255, 0.2784314, 1)

[sub_resource type="Sky" id="Sky_aqk2v"]
sky_material = SubResource("ProceduralSkyMaterial_tlwt5")

[sub_resource type="Environment" id="Environment_tlwt5"]
background_mode = 2
background_color = Color(0.8659264, 0, 0.1953721, 1)
sky = SubResource("Sky_aqk2v")
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 3.0
tonemap_mode = 2
glow_enabled = true
glow_bloom = 0.18
fog_enabled = true
fog_light_color = Color(0, 0, 0, 1)
fog_density = 0.0255
fog_sky_affect = 0.0
volumetric_fog_density = 0.01
volumetric_fog_albedo = Color(1, 0.42352942, 0.39607844, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_tlwt5"]
frequency = 0.0025

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_aqk2v"]
noise = SubResource("FastNoiseLite_tlwt5")
seamless = true
as_normal_map = true
bump_strength = 10.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tlwt5"]
albedo_color = Color(0.39308554, 0.3930855, 0.39308548, 1)
albedo_texture = ExtResource("1_aqk2v")
metallic_specular = 0.07
normal_enabled = true
normal_scale = 5.0
normal_texture = SubResource("NoiseTexture2D_aqk2v")
uv1_scale = Vector3(0.25, 0.25, 0.25)
uv1_triplanar = true
uv2_world_triplanar = true
texture_filter = 0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_aqk2v"]
albedo_color = Color(0.23529412, 0.22352941, 0.23137255, 1)

[node name="world" type="Node3D" unique_id=1301096687]

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1318533542]
environment = SubResource("Environment_tlwt5")

[node name="CSGBox3D" type="CSGBox3D" parent="." unique_id=1709383703]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.7717743, 0)
material_override = SubResource("StandardMaterial3D_tlwt5")
use_collision = true
collision_layer = 4
collision_mask = 0
flip_faces = true
size = Vector3(200, 13.228241, 200)

[node name="player" parent="." unique_id=1195508512 instance=ExtResource("1_f3sb7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2935276, 0)

[node name="enemy_spawner" parent="." unique_id=370430451 node_paths=PackedStringArray("player") instance=ExtResource("4_aqk2v")]
transform = Transform3D(0.35337692, 0.935481, 0, -0.935481, 0.35337692, 0, 0, 0, 1, 0, 1.9243686, 0)
player = NodePath("../player")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=1644414537]
transform = Transform3D(-0.99999964, -0.00074068125, 0.00042767514, -0.000330026, 0.79547334, 0.60598856, -0.0007890485, 0.6059882, -0.7954733, 0, 15.089474, 0)
shadow_enabled = true

[node name="enemies" type="Node3D" parent="." unique_id=1183267295]

[node name="globalui" type="CanvasLayer" parent="." unique_id=1553629028]
script = ExtResource("4_036b0")

[node name="waveprogress" type="ProgressBar" parent="globalui" unique_id=1374995669]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -128.0
offset_top = 53.0
offset_right = 128.0
offset_bottom = 80.0
grow_horizontal = 2

[node name="room1" type="CSGCombiner3D" parent="." unique_id=1196788468]
visible = false

[node name="CSGBox3D" type="CSGBox3D" parent="room1" unique_id=667000877]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.1600032, 2.4301758, -5.504883)
size = Vector3(1, 5.8603516, 12.009766)
material = SubResource("StandardMaterial3D_aqk2v")

[node name="CSGBox3D6" type="CSGBox3D" parent="room1" unique_id=1366325151]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.739788, 2.4301758, -5.504883)
size = Vector3(1, 5.8603516, 12.009766)
material = SubResource("StandardMaterial3D_aqk2v")

[node name="CSGBox3D2" type="CSGBox3D" parent="room1" unique_id=1162212709]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.1600032, 2.4301758, -20.895868)
size = Vector3(1, 5.8603516, 12.009766)
material = SubResource("StandardMaterial3D_aqk2v")

[node name="CSGBox3D5" type="CSGBox3D" parent="room1" unique_id=1301242131]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.969265, 2.4301758, -20.895868)
size = Vector3(1, 5.8603516, 12.009766)
material = SubResource("StandardMaterial3D_aqk2v")

[node name="CSGBox3D3" type="CSGBox3D" parent="room1" unique_id=1379534583]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 10.836964, 2.4301758, -26.606773)
size = Vector3(1, 5.8603516, 29.009888)
material = SubResource("StandardMaterial3D_aqk2v")

[node name="CSGBox3D4" type="CSGBox3D" parent="room1" unique_id=1607494970]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 10.836964, 2.4301758, -0.19427586)
size = Vector3(1, 5.8603516, 29.009888)
material = SubResource("StandardMaterial3D_aqk2v")

[node name="Node3D" type="Node3D" parent="." unique_id=1437715869]

[node name="elevation" type="CSGCombiner3D" parent="." unique_id=2082682995]
material_override = SubResource("StandardMaterial3D_tlwt5")
use_collision = true

[node name="Sprite3D" type="Sprite3D" parent="." unique_id=1134831277]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8.529093, 0)
flip_h = true
pixel_size = 0.1
billboard = 2
texture_filter = 0
texture = ExtResource("5_036b0")
region_enabled = true
region_rect = Rect2(517, 0, 123, 128)
